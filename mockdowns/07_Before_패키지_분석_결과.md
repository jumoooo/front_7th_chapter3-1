# 📋 Before 패키지 분석 결과

> 🔍 **분석 일자**: 2025년  
> 📦 **분석 대상**: `packages/before`  
> 🎯 **목적**: 레거시 코드의 문제점 파악 및 After 패키지 개선 방향 수립

---

## 🔴 발견된 주요 문제점

### 1. 컴포넌트 통합 문제 ⚠️

**문제점:**
- 작은 atoms 단위의 컴포넌트 안에 비즈니스 로직이 많이 들어있음
- UI 컴포넌트가 도메인 로직을 포함하고 있어 재사용성이 떨어짐

**예시:**
- `components/atoms/Button.tsx`에 `entityType`, `action`, `entity` 같은 도메인 타입이 포함됨
- 비즈니스 규칙(관리자 삭제 불가, 게시 상태 확인 등)이 UI 컴포넌트 내부에 구현됨

**개선 방안:**
- UI 컴포넌트는 순수하게 UI만 담당하도록 분리
- 비즈니스 로직은 상위 컴포넌트나 hooks로 분리

---

### 2. 컴포넌트 폴더 구조 문제 📁

**문제점:**
- `atoms/molecules/organisms` 폴더 구조로 인해 개발자가 컴포넌트를 찾기 어려움
- 분류 기준이 모호하여 "이게 atom인가 molecule인가?" 고민하는 시간 낭비

**개선 방안:**
- 역할 기반 폴더 구조로 변경 (`components/ui/`, `components/domain/` 등)
- shadcn/ui처럼 단순한 구조 채택

---

### 3. 타입 관리 문제 🏷️

**문제점:**
- 타입이 컴포넌트 파일 내부에 선언되어 있음
- 재사용이 필요한 타입이 여러 곳에 중복 정의될 가능성

**참고 코드:**
```typescript
// ManagementPage.tsx 내부
type EntityType = 'user' | 'post';
type Entity = User | Post;
```

**개선 방안:**
- 공통 타입은 `src/types/` 또는 `src/types/domain.ts`로 분리 관리
- 도메인별로 타입 파일 분리

---

### 4. 스타일링 문제 🎨

**문제점:**
- 인라인 스타일(`style={}`)로 하드코딩되어 있음
- 일관성 없는 스타일 값들
- 유지보수가 어려움

**개선 방안:**
- TailwindCSS 디자인 토큰 활용
- 하드코딩된 색상/간격 값 제거
- CSS 변수를 통한 일관된 스타일 시스템

---

### 5. 접근성 문제 ♿

**문제점:**
- 키보드 접근성: 탭 인덱스가 잘 맞춰지지 않음
- 시맨틱 HTML 부족

**개선 방안:**
- 키보드 네비게이션 순서 개선
- ARIA 속성 추가
- 시맨틱 HTML 요소 활용 (`<nav>`, `<main>`, `<section>` 등)
- shadcn/ui 컴포넌트는 Radix UI 기반으로 접근성 내장됨

---

### 6. 사용하지 않는 컴포넌트 🗑️

**문제점:**
- `Badge` 컴포넌트를 선언해놓고 사용하지 않음
- 불필요한 코드 유지

**개선 방안:**
- 사용하지 않는 컴포넌트 제거 또는 실제로 활용

---

## 📊 문제점 요약 표

| 문제점 | 심각도 | 개선 우선순위 | 개선 방법 |
|--------|--------|--------------|----------|
| 컴포넌트-로직 통합 | 🔴 높음 | 1순위 | UI/비즈니스 로직 분리 |
| 폴더 구조 | 🟡 중간 | 2순위 | 역할 기반 구조로 변경 |
| 타입 관리 | 🟡 중간 | 2순위 | `types/` 폴더로 분리 |
| 스타일링 | 🔴 높음 | 1순위 | 디자인 토큰 + TailwindCSS |
| 접근성 | 🟡 중간 | 3순위 | 키보드 네비게이션, ARIA |
| 미사용 컴포넌트 | 🟢 낮음 | 4순위 | 정리 |

---

## 🎯 After 패키지 개선 계획

### Phase 1: 컴포넌트 구조 개편
- [ ] UI 컴포넌트와 비즈니스 로직 분리
- [ ] `components/ui/` 구조로 정리
- [ ] shadcn/ui 컴포넌트 활용

### Phase 2: 타입 관리 개선
- [ ] `src/types/domain.ts` 생성
- [ ] 공통 타입 분리
- [ ] 도메인별 타입 파일 구조화

### Phase 3: 스타일링 개선
- [ ] 인라인 스타일 제거
- [ ] 디자인 토큰 활용
- [ ] TailwindCSS 클래스로 전환

### Phase 4: 접근성 개선
- [ ] 키보드 네비게이션 개선
- [ ] 시맨틱 HTML 적용
- [ ] ARIA 속성 추가

### Phase 5: 코드 정리
- [ ] 사용하지 않는 컴포넌트 제거
- [ ] 중복 코드 제거

---

## 📝 참고 사항

- Before 패키지의 기능은 모두 After 패키지에서 동일하게 동작해야 함
- 개선 과정에서 기존 기능이 깨지지 않도록 주의
- 각 개선 단계마다 테스트 및 검증 필요

---

> ✅ **다음 액션**: After 패키지에서 ManagementPage 마이그레이션 시작

